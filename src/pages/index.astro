---
import Layout from "./layouts/Layout.astro";
import { weeklyMenu } from "../data/menu";

const today = new Date().toLocaleDateString("en-US", {
  weekday: "long",
});

// ðŸ”’ ALWAYS an array
const todayMenu = weeklyMenu[today] || [];
---
<Layout title="Lu Gia">
  <section class="p-6 space-y-4">
    <h1 class="text-3xl font-bold">Lu Gia</h1>
    <p>Fresh food ~ Fast ~ Affordable</p>

    <h2 class="text-xl font-semibold">
      Todayâ€™s Menu ({today})
    </h2>

    {todayMenu.length > 0 ? (
      <ul class="space-y-1">
        {todayMenu.map(item => (
          <li class="flex justify-between">
            <span>{item.name}</span>
            <span>â‚¹{item.price}</span>
          </li>
        ))}
      </ul>
    ) : (
      <p class="text-sm text-gray-500">Closed today</p>
    )}

    <a href="/menu" class="font-semibold underline">
      View Full Menu â†’
    </a>
  </section>
</Layout>
